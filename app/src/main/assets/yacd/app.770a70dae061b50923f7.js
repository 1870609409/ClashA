(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+nr4":function(e,t,a){e.exports={content:"_38eRjlSxqU",overlay:"_2cugp_ojFQ"}},0:function(e,t,a){a("bZMm"),e.exports=a("ERIh")},"07MQ":function(e,t,a){e.exports={group:"_10FuALZoAk",btnGroup:"TUr_QjzTKP"}},"1iZa":function(e,t,a){e.exports={btn:"_3RK6Pn_rfX"}},"1mhx":function(e,t,a){e.exports={TrafficNow:"_3uGf10f84P",down:"_30JMM9GgkW",up:"_1wybRgv0kl"}},"2UkG":function(e,t,a){e.exports={loading:"C8qYV83bFf",pulse:"_3ZgNvq3EI4",pulseScaleOut:"_1TUw6u7qIP"}},"31Hy":function(e,t,a){e.exports={root:"_3oXtG6fVlC"}},"3enP":function(e,t,a){e.exports={root:"_3tUhhoh39M",header:"_1jIFhvdOto",label:"XmDiVyKWwU",inputs:"_3IJhbo4w3s",footer:"_2QbR27nKyF"}},"7eEr":function(e,t,a){e.exports={proxy:"_2vOEjYlEyC",left:"_31Q6l5SoSc",right:"_3j2P9Y_Tqj",proxyName:"_2j1gEiL0Iq"}},"8dWu":function(e,t,a){},B8dV:function(e,t,a){e.exports={proxyLatency:"_1T7fQAsbpR"}},BCVB:function(e,t,a){e.exports={root:"_3KeIuWaGkq",h1:"dzHwHz5D1B"}},BN1O:function(e,t,a){e.exports={input:"_3rwuJToU6r"}},ERIh:function(e,t,a){"use strict";a.r(t);a("ewTs");var n=a("q1tI"),r=a.n(n),o=a("i8i4"),c=a.n(o),s=a("9rZX"),l=a.n(s),i=a("ODXe"),u=a("17x9"),d=a.n(u),p=a("ANjH"),h=(a("rGqo"),a("yt8O"),a("RW0V"),a("U8pU")),m=Object.prototype.hasOwnProperty;function f(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var v=Object(n.createContext)(null);function b(e){var t=e.store,a=e.children;return r.a.createElement(v.Provider,{value:t},a)}function g(){return Object(n.useContext)(v)}function w(e){var t=g().dispatch,a="function"==typeof e?e():e;return Object(p.b)(a,t)}function y(e){var t=g(),a=e(t.getState()),r=Object(n.useState)(a),o=Object(i.a)(r,2),c=o[0],s=o[1];return Object(n.useEffect)(function(){var a=c;return t.subscribe(function(){var n=e(t.getState());(function(e,t){if(f(e,t))return!0;if("object"!==Object(h.a)(e)||null===e||"object"!==Object(h.a)(t)||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var r=0;r<a.length;r++)if(!m.call(t,a[r])||!f(e[a[r]],t[a[r]]))return!1;return!0})(a,n)||(a=n,s(n))})},[]),c}b.propTypes={store:d.a.object,children:d.a.node};var E,x=a("55Ip"),k=a("Ty5D"),O=a("wSuE"),C=a("o0o1"),j=a.n(C),N=(a("ls82"),a("HaE+")),T=a("1OyB"),S=a("vuIU"),_=a("md7G"),z=a("foSv"),B=a("Ji7U"),P=a("JX7q"),I=a("rePB"),M="https://7068a15928ae45cf884dd8398fe8649c@sentry.io/1359284";function R(){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=2;break}return e.abrupt("return",E);case 2:return e.next=4,a.e(4).then(a.t.bind(null,"abTI",7));case 4:return(t=e.sent).init({dsn:M}),E=t,e.abrupt("return",E);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}a("tUrg");var D=a("wx14"),H=a("Ff2n"),L=a("TSYQ"),U=a.n(L),q=function(e){var t=e.id,a=e.width,n=void 0===a?20:a,o=e.height,c=void 0===o?20:o,s=e.className,l=Object(H.a)(e,["id","width","height","className"]),i=U()("icon",t,s),u="#"+t;return r.a.createElement("svg",Object(D.a)({className:i,width:n,height:c},l),r.a.createElement("use",{xlinkHref:u}))};q.propTypes={id:d.a.string.isRequired,width:d.a.number,height:d.a.number,className:d.a.string};var V=r.a.memo(q),F=a("4BeY"),G=a.n(F),J=a("IaFt"),X=a.n(J),W=new G.a({id:"yacd",use:"yacd-usage",viewBox:"0 0 320 320",content:'<symbol viewBox="0 0 320 320" xmlns="http://www.w3.org/2000/svg" id="yacd">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M68.142 52.056c9.396-1.515 29.798 27.762 45.809 57.699 18.907-8.164 75.199-7.859 97.664 0 4.799-15.898 28.706-58.455 38.546-57.699 4.065.09 13.145 32.285 23.568 96.695 2.793 17.259 6.883 48.36 12.271 93.305C245.489 260.019 203.995 269 161.518 269c-42.477 0-84.983-8.981-127.518-26.944 16.497-125.657 27.878-188.99 34.142-190z" stroke="#EEE" stroke-width="5" fill="currentColor" />\n    <circle stroke="#EEE" fill="#EEE" cx="226" cy="184" r="15" />\n    <circle stroke="#EEE" fill="#EEE" cx="103" cy="184" r="15" />\n    <path d="M163 214.042c2.067 0 4.637 6.54 10.108 6.54 4.567.16 5.383-1.65 7.074-1.677 1.656 0 1.818 1.174 1.818 1.677.027 2.166-5.347 3.686-8.349 3.418-7.475.101-9.703-5.451-10.651-5.451-.91 0-3.833 5.451-10.194 5.451-7.143-.113-8.799-1.471-8.799-3.099.01-.783.802-1.54 1.685-1.505 1.39-.041 4.576 1.027 7.35 1.038 3.585-.016 8.163-6.392 9.958-6.392z" fill="#FFF" />\n  </g>\n</symbol>'}),K=(X.a.add(W),W),Y=new G.a({id:"github",use:"github-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" id="github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" /></symbol>'}),Z=(X.a.add(Y),Y),Q=a("a/9k"),$=a.n(Q),ee="https://github.com/haishanh/yacd/issues";var te=function(){return r.a.createElement("div",{className:$.a.root},r.a.createElement("div",{className:$.a.yacd},r.a.createElement(V,{id:K.id,width:150,height:150})),r.a.createElement("h1",null,"Oops, something went wrong!"),r.a.createElement("p",null,"If you think this is a bug, reporting this at"," ",r.a.createElement("a",{className:$.a.link,href:ee},r.a.createElement(V,{id:Z.id,width:16,height:16}),"haishanh/yacd")))},ae=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(_.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r))),Object(I.a)(Object(P.a)(Object(P.a)(a)),"state",{error:null}),Object(I.a)(Object(P.a)(Object(P.a)(a)),"loadSentry",Object(N.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.sentry){e.next=2;break}return e.abrupt("return",a.sentry);case 2:return e.next=4,R();case 4:return t=e.sent,a.sentry=t,e.abrupt("return",a.sentry);case 7:case"end":return e.stop()}},e,this)}))),Object(I.a)(Object(P.a)(Object(P.a)(a)),"showReportDialog",function(){a.loadSentry().then(function(e){return e.showReportDialog()})}),a}return Object(B.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.loadSentry()}},{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),this.loadSentry().then(function(a){a.withScope(function(n){Object.keys(t).forEach(function(e){n.setExtra(e,t[e])}),a.captureException(e)})})}},{key:"render",value:function(){return this.state.error?r.a.createElement(te,null):this.props.children}}]),t}(n.Component);Object(I.a)(ae,"propTypes",{children:d.a.node});var ne=ae,re=a("vpQ4");a("KKXr"),a("OG14"),a("pIFo");function oe(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(e){}}var ce={"Content-Type":"application/json"};function se(e){var t=e.hostname,a=e.port,n=e.secret;return{url:function(e){var t=e.hostname,a=e.port;return"http://".concat(t,":").concat(a)}({hostname:t,port:a}),init:{headers:function(e){var t=e.secret,a=Object(re.a)({},ce);return t&&(a.Authorization="Bearer ".concat(t)),a}({secret:n})}}}var le="/configs";function ie(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(N.a)(j.a.mark(function e(t){var a,n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=se(t),n=a.url,r=a.init,e.next=3,fetch(n+le,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function de(e){return"socks-port"in e&&(e["socket-port"]=e["socks-port"]),e}function pe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(N.a)(j.a.mark(function e(t,a){var n,r,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(t),r=n.url,o=n.init,e.next=3,fetch(r+le,Object(re.a)({},o,{method:"PATCH",body:JSON.stringify(de(a))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var me="/traffic",fe=new TextDecoder("utf-8",{stream:!0}),ve={labels:Array(150),up:Array(150),down:Array(150),size:150,subscribers:[],appendData:function(e){this.up.push(e.up),this.down.push(e.down);var t=new Date,a=""+t.getMinutes()+t.getSeconds();this.labels.push(a),this.up.length>this.size&&this.up.shift(),this.down.length>this.size&&this.down.shift(),this.labels.length>this.size&&this.labels.shift(),this.subscribers.forEach(function(t){return t(e)})},subscribe:function(e){var t=this;return this.subscribers.push(e),function(){var a=t.subscribers.indexOf(e);t.subscribers.splice(a,1)}}},be=!1;function ge(e){if(be)return ve;var t=se(e),a=t.url,n=t.init;return fetch(a+me,n).then(function(e){e.ok&&(be=!0,function e(t){return t.read().then(function(a){var n=a.done,r=a.value;if(n)return console.log("GET /traffic streaming done"),void(be=!1);var o=fe.decode(r),c=JSON.parse(o);return ve.appendData(c),e(t)})}(e.body.getReader()))}),ve}var we="modals/OpenModal",ye="modals/CloseModal";function Ee(e){return{type:we,payload:e}}function xe(e){return{type:ye,payload:e}}var ke={apiConfig:!1};var Oe="configs/CompletedFetchConfigs",Ce="configs/OptimisticUpdateConfigs",je="configs/MarkHaveFetchedConfig",Ne=function(e){return e.configs};function Te(){return function(){var e=Object(N.a)(j.a.mark(function e(t,a){var n,r,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Pe(a()),e.next=4,ie(r);case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error fetch configs",e.t0),t(Ee("apiConfig")),e.abrupt("return");case 12:if(n.ok){e.next=15;break}return 404===n.status||401===n.status?t(Ee("apiConfig")):console.log("Error fetch configs",n.statusText),e.abrupt("return");case 15:return e.next=17,n.json();case 17:o=e.sent,t({type:Oe,payload:o}),Ne(a()).haveFetchedConfig?ge(Pe(a())):t({type:je,payload:{haveFetchedConfig:!0}});case 21:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()}var Se={port:7890,"socks-port":7891,"redir-port":0,"allow-lan":!1,mode:"Rule","log-level":"info",haveFetchedConfig:!1};var _e="app/UpdateClashAPIConfig",ze="app/SwitchTheme",Be="yacd.haishan.me",Pe=function(e){return e.app.clashAPIConfig},Ie=function(e){return e.app.theme};function Me(e){var t=e.hostname,a=e.port,n=e.secret;return function(){var e=Object(N.a)(j.a.mark(function e(r,o){var c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=t.trim().replace(/^http(s):\/\//,""),r({type:_e,payload:{hostname:c,port:a,secret:n}}),oe(Be,o().app),r(xe("apiConfig")),r(Te());case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}var Re=document.body;function Ae(){"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?(Re.classList.remove("light"),Re.classList.add("dark")):(Re.classList.remove("dark"),Re.classList.add("light"))}var De={clashAPIConfig:{hostname:"127.0.0.1",port:"7892",secret:""},theme:"dark"};function He(){var e=function(e){try{var t=localStorage.getItem(e);if(!t)return;return JSON.parse(t)}catch(e){return}}(Be);e||(e=De);var t=function(){var e=location.search,t={};if("string"!=typeof e||""===e)return t;for(var a=e.replace(/^\?/,"").split("&"),n=0;n<a.length;n++){var r=a[n].split("="),o=Object(i.a)(r,2),c=o[0],s=o[1];t[c]=encodeURIComponent(s)}return t}();return t.port&&(e.clashAPIConfig.port=t.port),t.secret&&(e.clashAPIConfig.secret=t.secret),Ae(e.theme),e}var Le=new G.a({id:"activity",use:"activity-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="activity"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></symbol>'}),Ue=(X.a.add(Le),Le),qe=new G.a({id:"settings",use:"settings-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="settings"><circle cx="12" cy="12" r="3" /><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" /></symbol>'}),Ve=(X.a.add(qe),qe),Fe=new G.a({id:"globe",use:"globe-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="globe"><circle cx="12" cy="12" r="10" /><line x1="2" y1="12" x2="22" y2="12" /><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" /></symbol>'}),Ge=(X.a.add(Fe),Fe),Je=new G.a({id:"file",use:"file-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="file"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><polyline points="10 9 9 9 8 9" /></symbol>'}),Xe=(X.a.add(Je),Je),We=new G.a({id:"moon",use:"moon-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" /></symbol>'}),Ke=(X.a.add(We),We),Ye=a("oPlX"),Ze=a.n(Ye),Qe=r.a.memo(function(e){var t=e.iconId,a=e.labelText,n=e.to;return r.a.createElement(x.b,{exact:!0,to:n,className:Ze.a.row,activeClassName:Ze.a.rowActive},r.a.createElement(V,{id:t,width:28,height:28}),r.a.createElement("div",{className:Ze.a.label},a))});Qe.propTypes={to:d.a.string.isRequired,iconId:d.a.string,labelText:d.a.string};var $e={switchTheme:function(){return function(e,t){var a="light"===Ie(t())?"dark":"light";Ae(a),e({type:ze,payload:{theme:a}}),oe(Be,t().app)}}};var et=r.a.memo(function(){var e=w($e).switchTheme;return r.a.createElement("div",{className:Ze.a.root},r.a.createElement("a",{href:"https://github.com/haishanh/yacd",className:Ze.a.logoLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:Ze.a.logo},r.a.createElement(V,{id:K.id,width:80,height:80}))),r.a.createElement("div",{className:Ze.a.rows},r.a.createElement(Qe,{to:"/",iconId:Ue.id,labelText:"Overview"}),r.a.createElement(Qe,{to:"/proxies",iconId:Ge.id,labelText:"Proxies"}),r.a.createElement(Qe,{to:"/configs",iconId:Ve.id,labelText:"Config"}),r.a.createElement(Qe,{to:"/logs",iconId:Xe.id,labelText:"Logs"})),r.a.createElement("div",{className:Ze.a.themeSwitchContainer,onClick:e},r.a.createElement(V,{id:Ke.id,width:20,height:20})))}),tt=a("BCVB"),at=a.n(tt);function nt(e){var t=e.title;return r.a.createElement("div",{className:at.a.root},r.a.createElement("h1",{className:at.a.h1},t))}nt.propTypes={title:d.a.string.isRequired};var rt=r.a.memo(nt),ot=(a("xfY5"),a("eHKK"),["B","KB","MB","GB","TB","PB","EB","ZB","YB"]),ct=function(e){if(e<1e3)return e+" B";var t=Math.min(Math.floor(Math.log10(e)/3),ot.length-1);return(e=Number((e/Math.pow(1e3,t)).toPrecision(3)))+" "+ot[t]},st=a("QNKb"),lt=Object(st.unstable_createResource)(function(){return a.e(5).then(a.t.bind(null,"JVhT",7)).then(function(e){return e.default})}),it={0:{down:{backgroundColor:"rgba(176, 209, 132, 0.8)",borderColor:"rgb(176, 209, 132)"},up:{backgroundColor:"rgba(181, 220, 231, 0.8)",borderColor:"rgb(181, 220, 231)"}},1:{up:{backgroundColor:"rgba(242, 174, 62, 0.3)",borderColor:"rgb(242, 174, 62)"},down:{backgroundColor:"rgba(69, 154, 248, 0.3)",borderColor:"rgb(69, 154, 248)"}},2:{up:{backgroundColor:"rgba(94, 175, 223, 0.3)",borderColor:"rgb(94, 175, 223)"},down:{backgroundColor:"rgba(139, 227, 195, 0.3)",borderColor:"rgb(139, 227, 195)"}}},ut={borderWidth:1,pointRadius:0};var dt={responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!0,position:"top",labels:{fontColor:"#ccc",boxWidth:20}},tooltips:{enabled:!1,mode:"index",intersect:!1,animationDuration:100},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!1,gridLines:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!0,color:"#555",borderDash:[3,6],drawBorder:!1},ticks:{callback:function(e){return ct(e)+"/s "}}}]}},pt={position:"relative",width:"90%"};function ht(){var e=lt.read(),t=y(Pe),a=t.hostname,o=t.port,c=t.secret,s=y(Ie);return Object(n.useEffect)(function(){var t=document.getElementById("trafficChart").getContext("2d"),n=ge({hostname:a,port:o,secret:c}),r=function(){var e="dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?"0":"2";return Object(re.a)({},ut,it[e].up,{label:"Up"})}(s),l=function(){var e="dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?"0":"2";return Object(re.a)({},ut,it[e].down,{label:"Down"})}(s),i={labels:n.labels,datasets:[Object(re.a)({},r,{data:n.up}),Object(re.a)({},l,{data:n.down})]},u=new e(t,{type:"line",data:i,options:dt}),d=n.subscribe(function(){return u.update()});return function(){d(),u.destroy()}},[a,o,c,s]),r.a.createElement("div",{style:pt},r.a.createElement("canvas",{id:"trafficChart"}))}var mt=a("1mhx"),ft=a.n(mt);function vt(){var e,t,a,o,c,s,l,u,d=(e=Object(n.useState)({upStr:"0 B/s",downStr:"0 B/s"}),t=Object(i.a)(e,2),a=t[0],o=t[1],c=y(Pe),s=c.hostname,l=c.port,u=c.secret,Object(n.useEffect)(function(){return ge({hostname:s,port:l,secret:u}).subscribe(function(e){return o({upStr:ct(e.up)+"/s",downStr:ct(e.down)+"/s"})})},[s,l,u]),a),p=d.upStr,h=d.downStr;return r.a.createElement("div",{className:ft.a.TrafficNow},r.a.createElement("div",{className:ft.a.up},r.a.createElement("div",null,"Upload"),r.a.createElement("div",null,p)),r.a.createElement("div",{className:ft.a.down},r.a.createElement("div",null,"Download"),r.a.createElement("div",null,h)))}var bt=a("2UkG"),gt=a.n(bt),wt=function(e){var t=e.height,a=t?{height:t}:{};return r.a.createElement("div",{className:gt.a.loading,style:a},r.a.createElement("div",{className:gt.a.pulse}))};wt.propTypes={height:d.a.string};var yt=wt,Et=a("31Hy"),xt=a.n(Et);function kt(){return r.a.createElement("div",null,r.a.createElement(rt,{title:"Overview"}),r.a.createElement("div",{className:xt.a.root},r.a.createElement("div",null,r.a.createElement(vt,null)),r.a.createElement("div",{className:xt.a.chart},r.a.createElement(n.Suspense,{fallback:r.a.createElement(yt,{height:"200px"}),maxDuration:10},r.a.createElement(ht,null)))))}a("a1Th");var Ot="/logs",Ct=new TextDecoder("utf-8",{stream:!0}),jt=!1,Nt={logs:[],size:300,fetched:!1,subscribers:[],appendData:function(e){var t=new Date,a=t.toLocaleString("zh-Hans");e.time=a,e.id=t-0+Math.floor(65536*(1+Math.random())).toString(16),e.even=jt=!jt,this.logs.unshift(e),this.logs.length>this.size&&this.logs.pop(),this.subscribers.forEach(function(t){return t(e)})},subscribe:function(e){var t=this;return this.subscribers.push(e),function(){var a=t.subscribers.indexOf(e);t.subscribers.splice(a,1)}}};function Tt(e){if(Nt.fetched)return Nt;Nt.fetched=!0;var t=se(e),a=t.url,n=t.init;return fetch(a+Ot,n).then(function(e){!function e(t){return t.read().then(function(a){var n=a.done,r=a.value;if(!n)return Ct.decode(r).trim().split("\n").forEach(function(e){try{Nt.appendData(JSON.parse(e))}catch(t){console.log("JSON.parse error",JSON.parse(e))}}),e(t);console.log("GET /logs streaming done")})}(e.body.getReader())}).catch(function(e){Nt.fetched=!1,console.log("GET /logs error",e)}),Nt}var St=a("t8vU"),_t=a.n(St),zt={debug:"none",info:"#454545",warning:"#b99105",error:"#c11c1c"};function Bt(e){var t=e.time,a=e.even,n=e.payload,o=e.type,c=U()({even:a});return r.a.createElement("li",{className:c},r.a.createElement("div",{className:_t.a.logMeta},r.a.createElement("div",{className:_t.a.logTime},t),r.a.createElement("div",{className:_t.a.logType,style:{backgroundColor:zt[o]}},o),r.a.createElement("div",{className:_t.a.logText},n)))}function Pt(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=y(Pe),s=c.hostname,l=c.port,u=c.secret;return Object(n.useEffect)(function(){var e=Tt({hostname:s,port:l,secret:u});return o(e.logs),e.subscribe(function(){return o(e.logs)})},[s,l,u]),r.a.createElement("div",null,r.a.createElement(rt,{title:"Logs"}),0===a.length?r.a.createElement("div",{className:_t.a.logPlaceholder},r.a.createElement("div",{className:_t.a.logPlaceholderIcon},r.a.createElement(V,{id:K.id,width:200,height:200})),r.a.createElement("div",null,"No logs yet, hang tight...")):r.a.createElement("div",{className:_t.a.logs},r.a.createElement("ul",{className:_t.a.logUl},a.map(function(e){return r.a.createElement(Bt,Object(D.a)({key:e.id},e))}))))}Bt.propTypes={time:d.a.string,even:d.a.bool,type:d.a.string.isRequired,payload:d.a.string.isRequired};var It=a("B8dV"),Mt=a.n(It),Rt={good:"#67C23A",normal:"#E6A23C",bad:"#F56C6C",na:"#909399"};function At(e){var t=e.latency,a=t.number,o=t.error,c=Object(n.useMemo)(function(){return function(e,t){return""!==t?Rt.na:e<200?Rt.good:e<400?Rt.normal:Rt.bad}(a,o)},[a,o]);return r.a.createElement("span",{className:Mt.a.proxyLatency,style:{color:c}},""!==o?r.a.createElement("span",null,o):r.a.createElement("span",null,a," ms"))}At.propTypes={latency:d.a.shape({number:d.a.number,error:d.a.string})};var Dt=new G.a({id:"ss",use:"ss-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="ss">\n  <g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="7">\n    <path d="M144.176 233.92l30.67 9.576-30.67 46.467zM145.414 209.789l99.04 30.2 48.29-202.404L29.589 171.717l80.11 27.613 121.73-96.816z" />\n  </g>\n</symbol>'}),Ht=(X.a.add(Dt),Dt),Lt=new G.a({id:"vmess",use:"vmess-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="vmess">\n  <g stroke="currentColor" stroke-width="8" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n    <path d="M318.342 151.555L140.45 284.581l22.442 22.452z" />\n    <path d="M80.768 224.894l32.993 33.003 204.581-106.34z" />\n    <path d="M7.442 151.557h310.902L47.25 191.366z" />\n    <g>\n      <path d="M318.337 151.439L47.52 111.555l33.483-33.59zM318.336 151.436L113.971 44.896l26.66-26.72z" />\n    </g>\n  </g>\n</symbol>'}),Ut=(X.a.add(Lt),Lt),qt=new G.a({id:"auto",use:"auto-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="auto">\n  <path d="M127.773 130.955c-10.107 0-16.796-6.25-16.796-15.771 0-9.229 6.591-14.746 18.212-15.284l15.235-.683v-4.98c0-7.569-4.346-11.67-12.403-11.67-6.64 0-11.23 2.831-12.695 7.91h-6.347C113.955 82.615 121.865 77 132.02 77c11.915 0 18.848 6.25 18.848 16.943v36.133h-6.152v-8.3h-.684c-2.49 5.908-8.3 9.18-16.26 9.18zm1.563-5.664c8.496 0 15.088-5.86 15.088-13.428v-7.324l-14.795.635c-7.861.342-12.06 3.857-12.06 10.01 0 6.25 4.492 10.107 11.767 10.107zm85.693-47.852v52.588h-6.103v-9.472h-.635c-2.88 6.64-9.033 10.351-17.187 10.351-11.475 0-17.676-6.787-17.676-19.287V77.44h6.396v32.569c0 10.303 4.15 15.137 12.988 15.137 9.424 0 15.82-6.69 15.82-16.456V77.44h6.397zM124.16 182.768h6.397v13.671h22.021v5.42h-22.021v31.787c0 6.495 4.492 10.01 12.841 10.01 3.614 0 7.471-.146 9.18-.39v5.468c-1.562.293-6.494.586-9.521.586-12.647 0-18.897-5.127-18.897-15.478v-31.983H110v-5.42h14.16v-13.671zm70.069 67.138c-13.575 0-22.266-9.082-22.266-23.242v-7.812c0-14.16 8.691-23.243 22.266-23.243 13.574 0 22.265 9.082 22.265 23.243v7.812c0 14.16-8.691 23.242-22.265 23.242zm0-48.584c-9.766 0-15.87 6.983-15.87 18.36v6.152c0 11.377 6.104 18.36 15.87 18.36 9.765 0 15.869-6.983 15.869-18.36v-6.152c0-11.377-6.104-18.36-15.87-18.36z" fill="currentColor" fill-rule="evenodd" />\n</symbol>'}),Vt=(X.a.add(qt),qt),Ft=new G.a({id:"fallback",use:"fallback-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="fallback">\n  <path d="M61.16 139.535V92.367H47v-5.42h14.16v-6.054c0-9.327 6.543-14.258 19.043-14.258 3.711 0 9.229.342 11.328.683v5.371c-2.783-.341-7.763-.585-11.328-.585-8.3 0-12.646 3.076-12.646 8.984v5.86H91.53v5.42H67.557v47.167H61.16zm64.453.928c-10.107 0-16.797-6.25-16.797-15.772 0-9.228 6.592-14.746 18.213-15.283l15.235-.683v-4.98c0-7.57-4.346-11.67-12.403-11.67-6.64 0-11.23 2.831-12.695 7.91h-6.348c.977-7.862 8.887-13.477 19.043-13.477 11.914 0 18.848 6.25 18.848 16.943v36.133h-6.152v-8.3h-.684c-2.49 5.907-8.3 9.179-16.26 9.179zm1.563-5.664c8.496 0 15.088-5.86 15.088-13.428v-7.324l-14.795.635c-7.862.341-12.06 3.857-12.06 10.01 0 6.25 4.491 10.107 11.767 10.107zm87.793 4.736h-42.92v-5.176h18.506V71.176H171.95V66h25v68.36h18.018v5.175zm61.816 0h-42.92v-5.176h18.506V71.176h-18.603V66h25v68.36h18.017v5.175zM70.78 259.415c-7.47 0-13.086-2.93-16.162-8.448h-.879v7.568h-6.103V185h6.396v28.71h.88c2.49-5.517 8.251-8.642 15.868-8.642 12.207 0 20.508 8.985 20.508 22.12v10.107c0 13.135-8.3 22.12-20.508 22.12zm-1.416-5.714c9.424 0 15.528-7.08 15.528-17.92v-7.031c0-10.84-6.104-17.92-15.528-17.92-9.375 0-15.478 7.031-15.478 17.92v7.031c0 10.889 6.103 17.92 15.478 17.92zm56.25 5.762c-10.107 0-16.797-6.25-16.797-15.772 0-9.228 6.592-14.746 18.213-15.283l15.235-.683v-4.98c0-7.57-4.346-11.67-12.403-11.67-6.64 0-11.23 2.831-12.695 7.91h-6.348c.977-7.862 8.887-13.477 19.043-13.477 11.914 0 18.848 6.25 18.848 16.943v36.133h-6.152v-8.3h-.684c-2.49 5.907-8.3 9.179-16.26 9.179zm1.563-5.664c8.496 0 15.088-5.86 15.088-13.428v-7.324l-14.795.635c-7.862.341-12.06 3.857-12.06 10.01 0 6.25 4.491 10.107 11.767 10.107zm86.084-32.373h-6.348c-1.074-6.25-6.885-10.596-14.062-10.596-10.01 0-15.577 6.69-15.577 18.75v5.322c0 12.06 5.567 18.75 15.577 18.75 7.177 0 12.988-4.345 14.062-10.595h6.348c-1.367 9.863-9.375 16.357-20.264 16.357-13.818 0-22.119-8.789-22.119-23.437v-7.471c0-14.649 8.3-23.438 22.12-23.438 10.888 0 18.896 6.494 20.263 16.358zm65.38 37.11h-7.714l-19.043-27.833-8.106 7.91v19.922h-6.396V185h6.396v45.703h.586l24.707-24.756h8.106l-20.801 20.362 22.266 32.226z" fill="currentColor" fill-rule="evenodd" />\n</symbol>'}),Gt=(X.a.add(Ft),Ft),Jt=new G.a({id:"direct",use:"direct-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="direct">\n  <path d="M97.59 266.176l107.38-107.38 17.851 17.85a1 1 0 0 0 1.678-.467l24.176-97.91a1 1 0 0 0-1.21-1.211l-97.912 24.175a1 1 0 0 0-.467 1.678l17.521 17.522-107.38 107.38a1 1 0 0 0 0 1.414l36.95 36.949a1 1 0 0 0 1.414 0z" stroke="currentColor" stroke-width="8" fill="none" fill-rule="evenodd" />\n</symbol>'}),Xt=(X.a.add(Jt),Jt),Wt=new G.a({id:"http",use:"http-usage",viewBox:"0 0 326 326",content:'<symbol viewBox="0 0 326 326" xmlns="http://www.w3.org/2000/svg" id="http">\n  <path d="M29 195.8v-73.5h12v27.1c1.533-2.467 3.4-4.333 5.6-5.6 2-1.2 4.367-1.8 7.1-1.8 2.733 0 5.133.6 7.2 1.8 2.267 1.333 4.167 3.3 5.7 5.9 2.267 3.933 3.4 8.967 3.4 15.1v31H58v-31c0-3.267-.6-5.933-1.8-8-.8-1.333-1.8-2.367-3-3.1-1.067-.6-2.3-.9-3.7-.9-1.4 0-2.633.3-3.7.9-1.2.733-2.2 1.767-3 3.1-1.2 2.067-1.8 4.733-1.8 8v31H29zm70.2.8c-3.467 0-6.433-.733-8.9-2.2-2.6-1.467-4.7-3.6-6.3-6.4-2.133-3.667-3.2-8.233-3.2-13.7v-20.7h-9.1v-10.8h9.1v-20.5h12v20.5h13.9v10.8H92.8v20.7c0 3.6.6 6.433 1.8 8.5.6 1.067 1.333 1.867 2.2 2.4.733.4 1.533.6 2.4.6.933 0 1.733-.2 2.4-.6.867-.533 1.667-1.367 2.4-2.5.867-1.6 1.433-3.5 1.7-5.7l11.4 3.3c-.467 2.8-1.367 5.367-2.7 7.7-1.6 2.8-3.683 4.933-6.25 6.4-2.567 1.467-5.55 2.2-8.95 2.2zm42.3 0c-3.467 0-6.433-.733-8.9-2.2-2.6-1.467-4.7-3.6-6.3-6.4-2.133-3.667-3.2-8.233-3.2-13.7v-20.7H114v-10.8h9.1v-20.5h12v20.5H149v10.8h-13.9v20.7c0 3.6.6 6.433 1.8 8.5.6 1.067 1.333 1.867 2.2 2.4.733.4 1.533.6 2.4.6.933 0 1.733-.2 2.4-.6.867-.533 1.667-1.367 2.4-2.5.867-1.6 1.433-3.5 1.7-5.7l11.4 3.3c-.467 2.8-1.367 5.367-2.7 7.7-1.6 2.8-3.683 4.933-6.25 6.4-2.567 1.467-5.55 2.2-8.95 2.2zm18.4 19.7v-73.5h12v6.6c1.533-2.467 3.4-4.333 5.6-5.6 2-1.2 4.4-1.8 7.2-1.8 2.867 0 5.433.633 7.7 1.9 2.4 1.4 4.367 3.467 5.9 6.2 2.267 3.867 3.4 8.767 3.4 14.7v9c0 5.933-1.133 10.833-3.4 14.7-1.533 2.733-3.5 4.8-5.9 6.2-2.267 1.267-4.833 1.9-7.7 1.9-2.8 0-5.2-.6-7.2-1.8-2.2-1.267-4.067-3.133-5.6-5.6v27.1h-12zm23.117-29.5c1.51 0 2.831-.378 3.964-1.133 1.195-.756 2.234-1.89 3.115-3.4 1.07-2.13 1.604-4.74 1.604-7.83v-9.273c0-3.091-.535-5.701-1.604-7.83-.881-1.512-1.92-2.645-3.115-3.4-1.133-.756-2.454-1.134-3.964-1.134-1.384 0-2.58.31-3.587.927-1.132.756-2.076 1.82-2.831 3.194-1.133 2.13-1.699 4.877-1.699 8.243v9.272c0 3.366.566 6.113 1.699 8.243.755 1.374 1.699 2.438 2.831 3.194 1.007.618 2.203.927 3.587.927zm35.683-25.2c-2.067 0-3.867-.433-5.4-1.3-1.333-.8-2.367-1.833-3.1-3.1-.867-1.467-1.3-3.267-1.3-5.4 0-2.133.433-3.933 1.3-5.4.733-1.267 1.767-2.3 3.1-3.1 1.533-.867 3.333-1.3 5.4-1.3s3.867.433 5.4 1.3c1.333.8 2.367 1.833 3.1 3.1.867 1.467 1.3 3.267 1.3 5.4 0 2.133-.433 3.933-1.3 5.4-.733 1.267-1.767 2.3-3.1 3.1-1.533.867-3.333 1.3-5.4 1.3zm0 35c-2.067 0-3.867-.433-5.4-1.3-1.333-.8-2.367-1.833-3.1-3.1-.867-1.467-1.3-3.267-1.3-5.4 0-2.133.433-3.933 1.3-5.4.733-1.267 1.767-2.3 3.1-3.1 1.533-.867 3.333-1.3 5.4-1.3s3.867.433 5.4 1.3c1.333.8 2.367 1.833 3.1 3.1.867 1.467 1.3 3.267 1.3 5.4 0 2.133-.433 3.933-1.3 5.4-.733 1.267-1.767 2.3-3.1 3.1-1.533.867-3.333 1.3-5.4 1.3zm10.3 20L259.2 110h12.2l-30.2 106.6H229zm25 0L284.2 110h12.2l-30.2 106.6H254z" fill="currentColor" fill-rule="evenodd" />\n</symbol>'}),Kt=(X.a.add(Wt),Wt),Yt=a("7eEr"),Zt=a.n(Yt),Qt=(a("VRzm"),a("XfO3"),"/proxies");function $t(e){return ea.apply(this,arguments)}function ea(){return(ea=Object(N.a)(j.a.mark(function e(t){var a,n,r,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=se(t),n=a.url,r=a.init,e.next=3,fetch(n+Qt,r);case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ta(e,t,a){return aa.apply(this,arguments)}function aa(){return(aa=Object(N.a)(j.a.mark(function e(t,a,n){var r,o,c,s,l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:n},o=se(t),c=o.url,s=o.init,l="".concat(c).concat(Qt,"/").concat(a),e.next=5,fetch(l,Object(re.a)({},s,{method:"PUT",body:JSON.stringify(r)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(N.a)(j.a.mark(function e(t,a){var n,r,o,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(t),r=n.url,o=n.init,"timeout=5000&url=http://www.google.com/generate_204",c="".concat(r).concat(Qt,"/").concat(a,"/delay?").concat("timeout=5000&url=http://www.google.com/generate_204"),e.next=5,fetch(c,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var oa=["DIRECT","GLOBAL","REJECT"],ca=["Fallback","URLTest","Selector"],sa=function(e){return e.proxies.proxies},la=function(e){return e.proxies.delay},ia=function(e){return e.proxies.groupNames},ua="proxies/CompletedFetchProxies",da="proxies/OptimisticSwitchProxy",pa="proxies/CompletedRequestDelayForProxy";function ha(e){var t=[];for(var a in e)if(oa.indexOf(a)<0){var n=e[a];ca.indexOf(n.type)>=0&&t.push(a)}return t}function ma(){return function(){var e=Object(N.a)(j.a.mark(function e(t,a){var n,r,o,c,s,l,i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),r=sa(n),!(Object.keys(r).length>0)){e.next=4;break}return e.abrupt("return");case 4:return o=Pe(n),e.next=7,$t(o);case 7:c=e.sent,s=c.proxies,i=ha(l=void 0===s?{}:s),t({type:ua,payload:{proxies:l,groupNames:i}}),t(ba());case 12:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}function fa(e,t){return function(){var a=Object(N.a)(j.a.mark(function a(n,r){var o,c;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:ta(Pe(r()),e,t).then(function(e){!1===e.ok&&console.log("failed to swith proxy",e.statusText)},function(e){console.log(e,"failed to swith proxy")}).then(function(){n(ma())}),o=sa(r()),(c=Object(re.a)({},o))[e]&&c[e].now&&(c[e].now=t),n({type:da,payload:{proxies:c}});case 6:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()}function va(e){return function(){var t=Object(N.a)(j.a.mark(function t(a,n){var r,o,c,s,l,i,u;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Pe(n()),t.next=3,na(r,e);case 3:return o=t.sent,c="",!1===o.ok&&(c=o.statusText),t.next=8,o.json();case 8:s=t.sent,l=s.delay,i=la(n()),u=Object(re.a)({},i,Object(I.a)({},e,{error:c,number:l})),a({type:pa,payload:{delay:u}});case 13:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}function ba(){return function(){var e=Object(N.a)(j.a.mark(function e(t,a){var n,r,o,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=sa(n),o=Object.keys(r),c=[],o.forEach(function(e){"Vmess"!==r[e].type&&"Shadowsocks"!==r[e].type||c.push(e)}),e.next=7,Promise.all(c.map(function(e){return t((n=e,a=Object(N.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(va(n));case 2:return e.next=4,t(va(n));case 4:return e.next=6,t(va(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)}));var a,n}));case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}var ga={proxies:{},delay:{},groupNames:[]};var wa={Vmess:"#ca3487",Shadowsocks:"#1a7dc0",Socks5:"#2a477a",URLTest:"#3483e8",Fallback:"#3483e8",Direct:"#408b43",Http:"#d3782d"},ya={Vmess:Ut.id,Shadowsocks:Ht.id,Socks5:Ge.id,URLTest:Vt.id,Fallback:Gt.id,Direct:Xt.id,Http:Kt.id},Ea=function(e){return{proxies:sa(e),delay:la(e)}};function xa(e){var t=e.now,a=e.name,n=y(Ea),o=n.proxies,c=n.delay[a],s=o[a],l=t?wa[s.type]:"#555",i=ya[s.type];return r.a.createElement("div",{className:Zt.a.proxy},r.a.createElement("div",{className:Zt.a.left,style:{color:l}},r.a.createElement(V,{id:i,width:80,height:80})),r.a.createElement("div",{className:Zt.a.right},r.a.createElement("div",{className:Zt.a.proxyName},a),c?r.a.createElement(At,{latency:c}):null))}xa.propTypes={now:d.a.bool,delay:d.a.object,proxies:d.a.object,name:d.a.string};var ka=xa,Oa=a("YebP"),Ca=a.n(Oa),ja=function(e){return{proxies:sa(e)}};function Na(e){var t=e.name,a=y(ja).proxies,o=w({switchProxy:fa}),c=a[t],s=c.all,l=c.now,i=Object(n.useMemo)(function(){if(s){var e=[l];return s.forEach(function(t){return t!==l&&e.push(t)}),e}return[l]},[s,l]);return r.a.createElement("div",{className:Ca.a.group},r.a.createElement("div",{className:Ca.a.header},r.a.createElement("h2",null,r.a.createElement("span",null,t),r.a.createElement("span",null,c.type))),r.a.createElement("div",{className:Ca.a.list},i.map(function(e){return r.a.createElement("div",{className:Ca.a.proxy,key:e,onClick:function(){return o.switchProxy(t,e)}},r.a.createElement(ka,{name:e,now:e===c.now}))})))}Na.propTypes={name:d.a.string};var Ta=a("1iZa"),Sa=a.n(Ta),_a=function(){},za=r.a.memo(function(e){var t=e.label,a=e.onClick,n=void 0===a?_a:a;return r.a.createElement("button",{className:Sa.a.btn,onClick:n},t)});za.propTypes={label:d.a.string.isRequired,onClick:d.a.func};var Ba=za,Pa=a("07MQ"),Ia=a.n(Pa),Ma=function(e){return{proxies:sa(e),groupNames:ia(e)}},Ra={fetchProxies:ma,requestDelayAll:ba};function Aa(){var e=w(Ra),t=e.fetchProxies,a=e.requestDelayAll;Object(n.useEffect)(function(){t()},[]);var o=y(Ma).groupNames;return r.a.createElement("div",null,r.a.createElement(rt,{title:"Proxies"}),r.a.createElement("div",null,r.a.createElement("div",{className:Ia.a.btnGroup},r.a.createElement(Ba,{label:"Test Latency",onClick:a})),o.map(function(e){return r.a.createElement("div",{className:Ia.a.group,key:e},r.a.createElement(Na,{name:e}))})))}var Da=a("uSrA"),Ha=a.n(Da),La=function(){};function Ua(e){var t=e.checked,a=void 0!==t&&t,n=e.onChange,o=void 0===n?La:n,c=e.name,s=void 0===c?"":c;return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:s,checked:a,className:Ha.a.switch,onChange:o}))}Ua.propTypes={checked:d.a.bool,onChange:d.a.func,name:d.a.string};var qa=r.a.memo(Ua),Va=a("InNZ"),Fa=a.n(Va);function Ga(e){var t=e.options,a=e.value,o=e.name,c=e.onChange,s=Object(n.useRef)(null),l=(100/t.length).toPrecision(3);return r.a.createElement("div",null,r.a.createElement("div",{className:Fa.a.ToggleSwitch},t.map(function(e,t){a===e.value&&(s.current=t);var n="".concat(o,"-").concat(e.label),l=0===t?"":"border-left";return r.a.createElement("label",{htmlFor:n,key:n,className:l},r.a.createElement("input",{id:n,name:o,type:"radio",value:e.value,checked:a===e.value,onChange:c}),r.a.createElement("div",null,e.label))}),r.a.createElement("a",{className:Fa.a.slider,style:{width:l+"%",left:s.current*l+"%"}})))}Ga.propTypes={options:d.a.array,value:d.a.string,name:d.a.string,onChange:d.a.func};var Ja=r.a.memo(Ga),Xa=a("BN1O"),Wa=a.n(Xa);function Ka(e){return r.a.createElement("input",Object(D.a)({className:Wa.a.input},e))}Ka.propTypes={value:d.a.oneOfType([d.a.string,d.a.number]),type:d.a.string,onChange:d.a.func,name:d.a.string,placeholder:d.a.string};var Ya=a("So2z"),Za=a.n(Ya),Qa=[{label:"Global",value:"Global"},{label:"Rule",value:"Rule"},{label:"Direct",value:"Direct"}],$a=[{label:"info",value:"info"},{label:"warning",value:"warning"},{label:"error",value:"error"},{label:"debug",value:"debug"},{label:"silent",value:"silent"}],en={fetchConfigs:Te,updateConfigs:function(e){return t=Object(N.a)(j.a.mark(function t(a,n){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:pe(Pe(n()),e).then(function(e){!1===e.ok&&console.log("Error update configs",e.statusText)},function(e){throw console.log("Error update configs",e),e}).then(function(){a(Te())}),r=Ne(n()),a({type:Ce,payload:Object(re.a)({},r,e)});case 4:case"end":return t.stop()}},t,this)})),function(e,a){return t.apply(this,arguments)};var t}},tn=function(e){return{configs:Ne(e)}};function an(){var e=w(en).fetchConfigs,t=y(tn).configs;return Object(n.useEffect)(function(){e()},[]),r.a.createElement(nn,{configs:t})}function nn(e){var t=e.configs,a=w(en).updateConfigs,o=Object(n.useState)(t),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(n.useState)(t),d=Object(i.a)(u,2),p=d[0],h=d[1];p!==t&&(h(t),l(t));var m=function(e,t){l(Object(re.a)({},s,Object(I.a)({},e,t)))};function f(e){var t=e.target,n=t.name,r=t.value;switch(t.name){case"allow-lan":r=t.checked,m(n,r),a(Object(I.a)({},n,r));break;case"mode":case"log-level":m(n,r),a(Object(I.a)({},n,r));break;case"redir-port":case"socks-port":case"port":if(""!==t.value){var o=parseInt(t.value,10);if(o<0||o>65535)return}m(n,r);break;default:return}}function v(e){var t=e.target,n=t.name,r=t.value;switch(n){case"port":case"socks-port":case"redir-port":var o=parseInt(r,10);if(o<0||o>65535)return;a(Object(I.a)({},n,o))}}return r.a.createElement("div",null,r.a.createElement(rt,{title:"Config"}),r.a.createElement("div",{className:Za.a.root},r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"HTTP Proxy Port"),r.a.createElement(Ka,{name:"port",value:s.port,onChange:f,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"SOCKS5 Proxy Port"),r.a.createElement(Ka,{name:"socks-port",value:s["socks-port"],onChange:f,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"Redir Port"),r.a.createElement(Ka,{name:"redir-port",value:s["redir-port"],onChange:f,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"Allow LAN"),r.a.createElement(qa,{name:"allow-lan",checked:s["allow-lan"],onChange:f})),r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"Mode"),r.a.createElement(Ja,{options:Qa,name:"mode",value:s.mode,onChange:f})),r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.label},"Log Level"),r.a.createElement(Ja,{options:$a,name:"log-level",value:s["log-level"],onChange:f}))))}nn.propTypes={configs:d.a.object};var rn=a("G8MJ"),on=a.n(rn);function cn(e){var t=e.isOpen,a=e.onRequestClose,n=e.className,o=e.overlayClassName,c=e.children,s=Object(H.a)(e,["isOpen","onRequestClose","className","overlayClassName","children"]),i=U()(n,on.a.content),u=U()(o,on.a.overlay);return r.a.createElement(l.a,Object(D.a)({isOpen:t,onRequestClose:a,className:i,overlayClassName:u},s),c)}cn.propTypes={isOpen:d.a.bool.isRequired,onRequestClose:d.a.func.isRequired,children:d.a.node.isRequired,className:d.a.string,overlayClassName:d.a.string};var sn=r.a.memo(cn),ln=a("3enP"),un=a.n(ln),dn=function(e){return{apiConfig:Pe(e)}};var pn=function(){var e=y(dn).apiConfig,t=Object(n.useState)(e.hostname),a=Object(i.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(e.port),l=Object(i.a)(s,2),u=l[0],d=l[1],p=Object(n.useState)(e.secret),h=Object(i.a)(p,2),m=h[0],f=h[1],v=w({updateClashAPIConfig:Me}),b=Object(n.useRef)(null);Object(n.useEffect)(function(){b.current.focus()},[]);var g=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"port":d(n);break;case"hostname":c(n);break;case"secret":f(n)}};function E(){v.updateClashAPIConfig({hostname:o,port:u,secret:m})}return r.a.createElement("div",{className:un.a.root,ref:b,tabIndex:"1",onKeyDown:function(e){13===e.keyCode&&E()}},r.a.createElement("div",{className:un.a.header},"Clash External Controller Config"),r.a.createElement("div",{className:un.a.body},r.a.createElement("div",{className:un.a.group},r.a.createElement("div",{className:un.a.label},"Hostname and Port"),r.a.createElement("div",{className:un.a.inputs},r.a.createElement(Ka,{type:"text",name:"hostname",placeholder:"Hostname",value:o,onChange:g}),r.a.createElement(Ka,{type:"number",name:"port",placeholder:"Port",value:u,onChange:g}))),r.a.createElement("div",{className:un.a.group},r.a.createElement("div",{className:un.a.label},"Authorization Secret (Optional)"),r.a.createElement("div",null,r.a.createElement(Ka,{type:"text",name:"secret",value:m,placeholder:"Optional",onChange:g})))),r.a.createElement("div",{className:un.a.footer},r.a.createElement(Ba,{label:"Confirm",onClick:E})))},hn=a("+nr4"),mn=a.n(hn),fn=function(e){return{modals:e.modals}},vn={closeModal:xe,fetchConfigs:Te};function bn(){var e=y(fn).modals,t=w(vn),a=t.closeModal,o=t.fetchConfigs;return Object(n.useEffect)(function(){o()},[]),r.a.createElement(sn,{isOpen:e.apiConfig,className:mn.a.content,overlayClassName:mn.a.overlay,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,onRequestClose:function(){return a("apiConfig")}},r.a.createElement(pn,null))}var gn=a("sINF"),wn=Object(p.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case _e:return Object(re.a)({},e,{clashAPIConfig:Object(re.a)({},n)});case ze:return Object(re.a)({},e,n);default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case we:return Object(re.a)({},ke,Object(I.a)({},n,!0));case ye:return Object(re.a)({},ke,Object(I.a)({},n,!1));default:return e}},proxies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case pa:case da:case ua:return Object(re.a)({},e,n);default:return e}},configs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case je:case Ce:case Oe:return Object(re.a)({},e,n);default:return e}}}),yn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d;var En=Object(p.e)(wn,yn(Object(p.a)(gn.a))),xn=(a("8dWu"),a("IqOL")),kn=a.n(xn);window.store=En;var On=Object(O.hot)(function(){return r.a.createElement(ne,null,r.a.createElement(b,{store:En},r.a.createElement(x.a,null,r.a.createElement("div",{className:kn.a.app},r.a.createElement(bn,null),r.a.createElement(k.a,{path:"/",render:function(){return r.a.createElement(et,null)}}),r.a.createElement("div",{className:kn.a.content},r.a.createElement(k.a,{exact:!0,path:"/",render:function(){return r.a.createElement(kt,null)}}),r.a.createElement(k.a,{exact:!0,path:"/overview",render:function(){return r.a.createElement(kt,null)}}),r.a.createElement(k.a,{exact:!0,path:"/configs",render:function(){return r.a.createElement(an,null)}}),r.a.createElement(k.a,{exact:!0,path:"/logs",render:function(){return r.a.createElement(Pt,null)}}),r.a.createElement(k.a,{exact:!0,path:"/proxies",render:function(){return r.a.createElement(Aa,null)}}))))))});l.a.setAppElement("#app"),c.a.createRoot(document.getElementById("app")).render(r.a.createElement(On,null)),console.log("Checkout the repo: https://github.com/haishanh/yacd")},G8MJ:function(e,t,a){e.exports={overlay:"_1aZG3SnwLf",content:"_2LHk9jeQDw"}},InNZ:function(e,t,a){e.exports={ToggleSwitch:"_1hOXHPZoyT",slider:"_2NWH7f7uzO"}},IqOL:function(e,t,a){e.exports={app:"_1zCe_vGIjz",content:"_2hH5WcxSWh"}},So2z:function(e,t,a){e.exports={root:"_3WDSAUufkz",label:"_1su0iUCppI"}},YebP:function(e,t,a){e.exports={header:"_1dDKqDiB1I",list:"_3aqhlBsrD_",proxy:"_2r-ecUmPW9"}},"a/9k":function(e,t,a){e.exports={root:"_1vi9X6zp__",yacd:"_3a-vmAlkFb",link:"PdRbGY12nx"}},oPlX:function(e,t,a){e.exports={root:"_2kIwVmZrIm",logoLink:"fD4vFw6Suh",logo:"_3MSOuOjw1N",rows:"ARkuP2UF9U",row:"_3s-CY8UZIW",rowActive:"z0TS5nXW6e",label:"_9C_umw6HLy",themeSwitchContainer:"akNaLv2foe"}},t8vU:function(e,t,a){e.exports={logMeta:"_2NcK3n4XfS",logType:"_1VGUXJPYcC",logTime:"gCXzfg0oD0",logText:"_2xrBv_irGt",logUl:"txAOz6hY21",logs:"_1dI9AewiTc",logPlaceholder:"_2vDkW41OaJ",logPlaceholderIcon:"-N8zaF3LNs"}},uSrA:function(e,t,a){e.exports={switch:"_1HMH3rGR_r"}}},[[0,2,1,3]]]);